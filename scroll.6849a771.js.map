{"version":3,"file":"scroll.6849a771.js","sources":["../src/components/scroll/scroll.js"],"sourcesContent":["import { html, LitElement } from 'lit';\n\nclass scroll extends LitElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    window.addEventListener('hashchange', this.handleHashChange.bind(this), false);\n    window.addEventListener('load', this.handleHashChange.bind(this), false);\n  }\n\n  disconnectedCallback() {\n    window.removeEventListener('hashchange', this.handleHashChange.bind(this), false);\n    window.removeEventListener('load', this.handleHashChange.bind(this), false);\n    super.disconnectedCallback();\n  }\n\n  handleHashChange() {\n    // on hash change child event, scroll content\n    const contains = (selector, text) => {\n      const elements = this.querySelectorAll(selector);\n\n      return Array.from(elements).filter((element) => {\n        let el = RegExp(text, 'gmi').test(element.href);\n        let href = element.href;\n        if (el && href.substr(href.length - text.length, href.length) === text && (el.tagName && el.tagName.toLowerCase() === 'h3')) {\n          return el;\n        }\n      });\n    };\n\n    let { hash } = window.location;\n\n    // query hash text\n    const heading = contains('a', hash)[0];\n\n    if (heading) {\n      heading.scrollIntoView(true);\n    }\n  }\n\n  render() {\n    return html`\n      <slot></slot>\n    `;\n  }\n}\n\ncustomElements.define('app-scroll', scroll);"],"names":["customElements","define","LitElement","constructor","super","connectedCallback","window","addEventListener","this","handleHashChange","bind","disconnectedCallback","removeEventListener","hash","location","heading","selector","text","elements","querySelectorAll","Array","from","filter","element","el","RegExp","test","href","substr","length","tagName","toLowerCase","contains","scrollIntoView","render","html"],"mappings":"qDAkDAA,eAAeC,OAAO,aAhDtB,cAAqBC,EACnBC,cACEC,OACD,CAEDC,oBACED,MAAMC,oBACNC,OAAOC,iBAAiB,aAAcC,KAAKC,iBAAiBC,KAAKF,OAAO,GACxEF,OAAOC,iBAAiB,OAAQC,KAAKC,iBAAiBC,KAAKF,OAAO,EACnE,CAEDG,uBACEL,OAAOM,oBAAoB,aAAcJ,KAAKC,iBAAiBC,KAAKF,OAAO,GAC3EF,OAAOM,oBAAoB,OAAQJ,KAAKC,iBAAiBC,KAAKF,OAAO,GACrEJ,MAAMO,sBACP,CAEDF,mBAcE,IAAII,KAAEA,GAASP,OAAOQ,SAGtB,MAAMC,EAfW,EAACC,EAAUC,KAC1B,MAAMC,EAAWV,KAAKW,iBAAiBH,GAEvC,OAAOI,MAAMC,KAAKH,GAAUI,QAAQC,IAClC,IAAIC,EAAKC,OAAOR,EAAM,OAAOS,KAAKH,EAAQI,MACtCA,EAAOJ,EAAQI,KACnB,GAAIH,GAAMG,EAAKC,OAAOD,EAAKE,OAASZ,EAAKY,OAAQF,EAAKE,UAAYZ,GAASO,EAAGM,SAAwC,OAA7BN,EAAGM,QAAQC,cAClG,OAAOP,CACR,GACD,EAMYQ,CAAS,IAAKnB,GAAM,GAEhCE,GACFA,EAAQkB,gBAAe,EAE1B,CAEDC,SACE,OAAOC,CAAI;;KAGZ"}